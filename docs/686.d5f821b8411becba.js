"use strict";(self.webpackChunkqr_scanner=self.webpackChunkqr_scanner||[]).push([[686],{3686:(P,h,a)=>{a.r(h),a.d(h,{GENERATOR_ROUTES:()=>E,GeneratorComponent:()=>C});var c=a(6895),r=a(4006),x=a(4859),p=a(3336),u=a(4144),m=a(455),T=a(945),f=a(1208),g=a(347),e=a(4650),s=a(9549);const M=["qrcodeContainer"];function y(o,i){1&o&&(e.TgZ(0,"mat-icon",11),e._uU(1,"qr_code"),e.qZA())}function Z(o,i){1&o&&(e.TgZ(0,"mat-icon",11),e._uU(1,"qr_code"),e.qZA())}let C=(()=>{class o{constructor(){this.dataLabel="\u0414\u0430\u043d\u043d\u044b\u0435",this.data="",this.secretPhrase="",this.cipherText="",this.encryptionEnabled=!1,this.dataMaxlength=g.g.qrDataMaxLength,this.secretKeyMaxlength=g.g.secretKeyMaxLength,this.cipherTextMaxlength=g.g.cipherTextMaxLength}ngOnInit(){this.generateCode(this.dataLabel)}onDataChange(n){this.data!==n&&(this.data=n,this.encryptionEnabled?this.generateCipherWithCode():this.generateCode(this.data))}onSecretPhraseChange(n){this.secretPhrase!==n&&(this.secretPhrase=n,this.generateCipherWithCode())}onEncryptionToggle(){this.encryptionEnabled=!this.encryptionEnabled,this.encryptionEnabled?this.generateCipherWithCode():this.generateCode(this.data)}generateCipherWithCode(){this.generateCipherText(),this.generateCode(this.cipherText)}generateCipherText(){const n=f.p.encrypt(this.data,this.secretPhrase);this.cipherText=f.p.decrypt(n,this.secretPhrase)!==this.data?"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u0442\u044c":n}generateCode(n){this.qrcodeContainerRef.nativeElement.innerHTML=T.u.generateCode(n)}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["qr-generator"]],viewQuery:function(n,t){if(1&n&&e.Gf(M,7),2&n){let l;e.iGM(l=e.CRH())&&(t.qrcodeContainerRef=l.first)}},standalone:!0,features:[e.jDz],decls:31,vars:17,consts:[[1,"qrcode-container"],["qrcodeContainer",""],[1,"fields"],[1,"field-container"],["appearance","outline",1,"field"],["matInput","","rows","3",3,"maxlength","ngModel","ngModelChange"],["matSuffix","",4,"ngIf"],["align","end"],["color","accent",1,"enable-encryption","field",3,"ngModel","toggleChange"],["matInput","","rows","3",3,"maxlength","disabled","ngModel","ngModelChange"],["matInput","","rows","3","disabled","",3,"maxlength","ngModel"],["matSuffix",""]],template:function(n,t){1&n&&(e._UZ(0,"div",0,1),e.TgZ(2,"section",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),e._uU(6),e.qZA(),e.TgZ(7,"textarea",5),e.NdJ("ngModelChange",function(d){return t.onDataChange(d)}),e.qZA(),e.YNc(8,y,2,0,"mat-icon",6),e.TgZ(9,"mat-hint",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",3)(12,"mat-slide-toggle",8),e.NdJ("toggleChange",function(){return t.onEncryptionToggle()}),e._uU(13," \u0428\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435 "),e.qZA()(),e.TgZ(14,"div",3)(15,"mat-form-field",4)(16,"mat-label"),e._uU(17,"\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u0430\u044f \u0444\u0440\u0430\u0437\u0430"),e.qZA(),e.TgZ(18,"textarea",9),e.NdJ("ngModelChange",function(d){return t.onSecretPhraseChange(d)}),e._uU(19,"            "),e.qZA(),e.TgZ(20,"mat-hint",7),e._uU(21),e.qZA()()(),e.TgZ(22,"div",3)(23,"mat-form-field",4)(24,"mat-label"),e._uU(25,"\u0428\u0438\u0444\u0440"),e.qZA(),e.TgZ(26,"textarea",10),e._uU(27,"            "),e.qZA(),e.YNc(28,Z,2,0,"mat-icon",6),e.TgZ(29,"mat-hint",7),e._uU(30),e.qZA()()()()),2&n&&(e.xp6(6),e.Oqu(t.dataLabel),e.xp6(1),e.Q6J("maxlength",t.dataMaxlength)("ngModel",t.data),e.xp6(1),e.Q6J("ngIf",!t.encryptionEnabled),e.xp6(2),e.AsE("",t.data.length,"/",t.dataMaxlength,""),e.xp6(2),e.Q6J("ngModel",t.encryptionEnabled),e.xp6(6),e.Q6J("maxlength",t.secretKeyMaxlength)("disabled",!t.encryptionEnabled)("ngModel",t.secretPhrase),e.xp6(3),e.AsE("",t.secretPhrase.length,"/",t.secretKeyMaxlength,""),e.xp6(5),e.Q6J("maxlength",t.cipherTextMaxlength)("ngModel",t.cipherText),e.xp6(2),e.Q6J("ngIf",t.encryptionEnabled),e.xp6(2),e.AsE("",t.cipherText.length,"/",t.cipherTextMaxlength,""))},dependencies:[c.ez,c.O5,r.u5,r.Fj,r.JJ,r.nD,r.On,x.ot,p.Ps,p.Hw,u.c,s.KE,s.bx,s.hX,s.R9,u.Nt,m.rP,m.Rr],styles:["[_nghost-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;align-self:center}.fields[_ngcontent-%COMP%]   .field-container[_ngcontent-%COMP%]{display:flex}.fields[_ngcontent-%COMP%]   .field-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{flex-grow:1}.fields[_ngcontent-%COMP%]   .field-container[_ngcontent-%COMP%]   .enable-encryption[_ngcontent-%COMP%]{margin-bottom:5px}.qrcode-container[_ngcontent-%COMP%]{width:320px;height:320px}"]}),o})();const E=[{path:"",component:C}]}}]);