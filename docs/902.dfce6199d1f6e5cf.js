"use strict";(self.webpackChunkqr_scanner=self.webpackChunkqr_scanner||[]).push([[902],{7902:(Je,E,l)=>{l.r(E),l.d(E,{SCANNER_ROUTES:()=>Qe,ScannerComponent:()=>J});var _=l(6895),m=l(4006),t=l(4650);class X{constructor(s,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),n=i.style;n.position="fixed",n.top=n.opacity="0",n.left="-999em",i.setAttribute("aria-hidden","true"),i.value=s,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const s=this._textarea;let e=!1;try{if(s){const i=this._document.activeElement;s.select(),s.setSelectionRange(0,s.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){const s=this._textarea;s&&(s.remove(),this._textarea=void 0)}}let $=(()=>{class o{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),n=i.copy();return i.destroy(),n}beginCopy(e){return new X(e,this._document)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(_.K0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const q=new t.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let K=(()=>{class o{constructor(e,i,n){this._clipboard=e,this._ngZone=i,this.text="",this.attempts=1,this.copied=new t.vpe,this._pending=new Set,n&&null!=n.attempts&&(this.attempts=n.attempts)}copy(e=this.attempts){if(e>1){let i=e;const n=this._clipboard.beginCopy(this.text);this._pending.add(n);const a=()=>{const r=n.copy();r||!--i||this._destroyed?(this._currentTimeout=null,this._pending.delete(n),n.destroy(),this.copied.emit(r)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(a,1))};a()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36($),t.Y36(t.R0b),t.Y36(q,8))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(e,i){1&e&&t.NdJ("click",function(){return i.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),o})(),W=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({}),o})();var x=l(4859),O=l(3336),w=l(4144),P=l(9643),p=l(3238),b=l(7725),y=l(1281);const ee=["input"],te=function(o){return{enterDuration:o}},ie=["*"],oe=new t.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let ne=0;const se={provide:m.JU,useExisting:(0,t.Gpc)(()=>A),multi:!0};class ae{constructor(s,e){this.source=s,this.checked=e}}const le=(0,p.sb)((0,p.pj)((0,p.Kr)((0,p.Id)(class{constructor(o){this._elementRef=o}}))));let re=(()=>{class o extends le{constructor(e,i,n,a,r,d,c){super(e),this._focusMonitor=i,this._changeDetectorRef=n,this.defaults=r,this._onChange=u=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new t.vpe,this.toggleChange=new t.vpe,this.tabIndex=parseInt(a)||0,this.color=this.defaultColor=r.color||"accent",this._noopAnimations="NoopAnimations"===d,this.id=this._uniqueId=`${c}${++ne}`}get required(){return this._required}set required(e){this._required=(0,y.Ig)(e)}get checked(){return this._checked}set checked(e){this._checked=(0,y.Ig)(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._focused=!0:e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return o.\u0275fac=function(e){t.$Z()},o.\u0275dir=t.lG2({type:o,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[t.qOj]}),o})(),A=(()=>{class o extends re{constructor(e,i,n,a,r,d){super(e,i,n,a,r,d,"mat-slide-toggle-")}_createChangeEvent(e){return new ae(this,e)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(b.tE),t.Y36(t.sBO),t.$8M("tabindex"),t.Y36(oe),t.Y36(t.QbO,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-slide-toggle"]],viewQuery:function(e,i){if(1&e&&t.Gf(ee,5),2&e){let n;t.iGM(n=t.CRH())&&(i._inputElement=n.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(e,i){2&e&&(t.Ikx("id",i.id),t.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),t.ekj("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[t._Bn([se]),t.qOj],ngContentSelectors:ie,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,i){if(1&e&&(t.F$t(),t.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),t.NdJ("change",function(a){return i._onChangeEvent(a)})("click",function(a){return i._onInputClick(a)}),t.qZA(),t.TgZ(5,"span",5),t._UZ(6,"span",6),t.TgZ(7,"span",7),t._UZ(8,"span",8),t.qZA()()(),t.TgZ(9,"span",9,10),t.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),t.TgZ(11,"span",11),t._uU(12,"\xa0"),t.qZA(),t.Hsn(13),t.qZA()()),2&e){const n=t.MAs(1),a=t.MAs(10);t.uIk("for",i.inputId),t.xp6(2),t.ekj("mat-slide-toggle-bar-no-side-margin",!a.textContent||!a.textContent.trim()),t.xp6(1),t.Q6J("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),t.uIk("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),t.xp6(4),t.Q6J("matRippleTrigger",n)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",t.VKq(18,te,i._noopAnimations?0:150))}},dependencies:[p.wG,P.wD],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),o})(),k=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({}),o})(),he=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[k,p.si,p.BQ,P.Q8,k,p.BQ]}),o})();var T=l(8184),L=l(8605),pe=l(445),Y=l(9521),F=l(2289),B=l(3353),ue=l(4080),M=l(7579),g=l(2722),D=l(5698);l(7340);const me=["tooltip"],V="tooltip-panel",Z=(0,B.i$)({passive:!0}),G=new t.OlP("mat-tooltip-scroll-strategy"),ve={provide:G,deps:[T.aV],useFactory:function _e(o){return()=>o.scrollStrategies.reposition({scrollThrottle:20})}},ye=new t.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function be(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Ce=(()=>{class o{constructor(e,i,n,a,r,d,c,u,v,C,f,I){this._overlay=e,this._elementRef=i,this._scrollDispatcher=n,this._viewContainerRef=a,this._ngZone=r,this._platform=d,this._ariaDescriber=c,this._focusMonitor=u,this._dir=C,this._defaultOptions=f,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new M.x,this._scrollStrategy=v,this._document=I,f&&(f.position&&(this.position=f.position),f.touchGestures&&(this.touchGestures=f.touchGestures)),C.change.pipe((0,g.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,y.Ig)(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=(0,y.su)(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=(0,y.su)(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,g.R)(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,n])=>{e.removeEventListener(i,n,Z)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new ue.C5(this._tooltipComponent,this._viewContainerRef);const n=this._tooltipInstance=i.attach(this._portal).instance;n._triggerElement=this._elementRef.nativeElement,n._mouseLeaveHideDelay=this._hideDelay,n.afterHidden().pipe((0,g.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),n.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe((0,g.R)(this._destroyed)).subscribe(n=>{this._updateCurrentPositionClass(n.connectionPair),this._tooltipInstance&&n.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${V}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,g.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,g.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,g.R)(this._destroyed)).subscribe(n=>{this._isTooltipVisible()&&n.keyCode===Y.hY&&!(0,Y.Vb)(n)&&(n.preventDefault(),n.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,n=this._getOrigin(),a=this._getOverlayPosition();i.withPositions([this._addOffset({...n.main,...a.main}),this._addOffset({...n.fallback,...a.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let n;"above"==i||"below"==i?n={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?n={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(n={originX:"end",originY:"center"});const{x:a,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:a,originY:r}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let n;"above"==i?n={overlayX:"center",overlayY:"bottom"}:"below"==i?n={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?n={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(n={overlayX:"start",overlayY:"center"});const{x:a,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:a,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,D.q)(1),(0,g.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:n,originY:a}=e;let r;if(r="center"===i?this._dir&&"rtl"===this._dir.value?"end"===n?"left":"right":"start"===n?"left":"right":"bottom"===i&&"top"===a?"above":"below",r!==this._currentPosition){const d=this._overlayRef;if(d){const c=`${this._cssClassPrefix}-${V}-`;d.removePanelClass(c+this._currentPosition),d.addPanelClass(c+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const n=i.relatedTarget;(!n||!this._overlayRef?.overlayElement.contains(n))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,n])=>{this._elementRef.nativeElement.addEventListener(i,n,Z)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;i!==n&&!n.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,n=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),("on"===e||!i.draggable)&&(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return o.\u0275fac=function(e){t.$Z()},o.\u0275dir=t.lG2({type:o,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),o})(),Te=(()=>{class o extends Ce{constructor(e,i,n,a,r,d,c,u,v,C,f,I){super(e,i,n,a,r,d,c,u,v,C,f,I),this._tooltipComponent=De}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.aV),t.Y36(t.SBq),t.Y36(L.mF),t.Y36(t.s_b),t.Y36(t.R0b),t.Y36(B.t4),t.Y36(b.$s),t.Y36(b.tE),t.Y36(G),t.Y36(pe.Is,8),t.Y36(ye,8),t.Y36(_.K0))},o.\u0275dir=t.lG2({type:o,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[t.qOj]}),o})(),Me=(()=>{class o{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new M.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,n=this._showAnimation,a=this._hideAnimation;if(i.classList.remove(e?a:n),i.classList.add(e?n:a),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const r=getComputedStyle(i);("0s"===r.getPropertyValue("animation-duration")||"none"===r.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36(t.QbO,8))},o.\u0275dir=t.lG2({type:o}),o})(),De=(()=>{class o extends Me{constructor(e,i,n){super(e,n),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe(F.u3.Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36(F.Yg),t.Y36(t.QbO,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&t.Gf(me,7),2&e){let n;t.iGM(n=t.CRH())&&(i._tooltip=n.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("mouseleave",function(a){return i._handleMouseLeave(a)}),2&e&&t.Udp("zoom",i.isVisible()?1:null)},features:[t.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0,1),t.NdJ("animationend",function(a){return i._handleAnimationEnd(a)}),t.ALo(2,"async"),t._uU(3),t.qZA()),2&e){let n;t.ekj("mat-tooltip-handset",null==(n=t.lcZ(2,4,i._isHandset))?null:n.matches),t.Q6J("ngClass",i.tooltipClass),t.xp6(3),t.Oqu(i.message)}},dependencies:[_.mk,_.Ov],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),o})(),Se=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[ve],imports:[b.rt,_.ez,T.U8,p.BQ,p.BQ,L.ZD]}),o})();var Re=l(347),Ie=l(945),Ee=l(6063);class xe extends M.x{constructor(s=1/0,e=1/0,i=Ee.l){super(),this._bufferSize=s,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,s),this._windowTime=Math.max(1,e)}next(s){const{isStopped:e,_buffer:i,_infiniteTimeWindow:n,_timestampProvider:a,_windowTime:r}=this;e||(i.push(s),!n&&i.push(a.now()+r)),this._trimBuffer(),super.next(s)}_subscribe(s){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(s),{_infiniteTimeWindow:i,_buffer:n}=this,a=n.slice();for(let r=0;r<a.length&&!s.closed;r+=i?1:2)s.next(a[r]);return this._checkFinalizedStatuses(s),e}_trimBuffer(){const{_bufferSize:s,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:n}=this,a=(n?1:2)*s;if(s<1/0&&a<i.length&&i.splice(0,i.length-a),!n){const r=e.now();let d=0;for(let c=1;c<i.length&&i[c]<=r;c+=2)d=c;d&&i.splice(0,d+1)}}}var Oe=l(3099),N=l(4004),U=l(262),Pe=l(7272),H=l(4482),S=l(5403),Ae=l(5032),Le=l(9718),Ye=l(5577);function z(o,s){return s?e=>(0,Pe.z)(s.pipe((0,D.q)(1),function ke(){return(0,H.e)((o,s)=>{o.subscribe((0,S.x)(s,Ae.Z))})}()),e.pipe(z(o))):(0,Ye.z)((e,i)=>o(e,i).pipe((0,D.q)(1),(0,Le.h)(e)))}var Fe=l(4986),j=l(5963),Be=l(515),Ve=l(8421),Ge=l(2076);let Ne=(()=>{class o{getCameraStream(e){return this.getMediaStream({video:{facingMode:e?"user":"environment"}})}getMediaStream(e){return(0,Ge.D)(navigator.mediaDevices.getUserMedia(e))}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Ue=l(7009);let He=(()=>{class o{constructor(e){this.matSnackBar=e}success(e){this.show(e,"success")}error(e){this.show(e,"error")}show(e,i=""){this.matSnackBar.open(e,"X",{duration:3e3,horizontalPosition:"right",verticalPosition:"bottom",panelClass:i})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(Ue.ux))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var R=l(9549);const ze=["cameraVideo"],je=["cameraCanvas"];let J=(()=>{class o{constructor(e,i){this.mediaDeviceService=e,this.notificationService=i,this.frontCamera=!1,this.scanData="",this.scanDataMaxLength=Re.g.qrDataMaxLength}ngOnInit(){this.startScanning()}ngOnDestroy(){this.playVideoSubscription&&this.playVideoSubscription.unsubscribe()}onRefresh(){this.startScanning()}startScanning(){this.playVideoSubscription&&this.playVideoSubscription.unsubscribe(),this.playVideoSubscription=this.playVideoFromCamera().pipe(function we(o,s,e){let i,n=!1;return o&&"object"==typeof o?({bufferSize:i=1/0,windowTime:s=1/0,refCount:n=!1,scheduler:e}=o):i=o??1/0,(0,Oe.B)({connector:()=>new xe(i,s,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:n})}(1),(0,N.U)(e=>(this.scanning=e.active,this.scan())),(0,U.K)(e=>{throw this.scanning=!1,e}),z(e=>function Q(o=0,s=Fe.z){return o<0&&(o=0),(0,j.H)(o,o,s)}(e?5e3:300)),function Ze(o){let e,s=1/0;return null!=o&&("object"==typeof o?({count:s=1/0,delay:e}=o):s=o),s<=0?()=>Be.E:(0,H.e)((i,n)=>{let r,a=0;const d=()=>{if(r?.unsubscribe(),r=null,null!=e){const u="number"==typeof e?(0,j.H)(e):(0,Ve.Xf)(e(a)),v=(0,S.x)(n,()=>{v.unsubscribe(),c()});u.subscribe(v)}else c()},c=()=>{let u=!1;r=i.subscribe((0,S.x)(n,void 0,()=>{++a<s?r?d():u=!0:n.complete()})),u&&d()};c()})}()).subscribe()}scan(){const e=Ie.u.scanCodeFromVideo(this.cameraVideoRef.nativeElement,this.cameraCanvasRef.nativeElement,!0);return e&&(this.scanData=e,this.notificationService.success("QR-\u043a\u043e\u0434 \u043e\u0442\u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d!")),e}playVideoFromCamera(){return this.mediaDeviceService.getCameraStream(this.frontCamera).pipe((0,N.U)(e=>(this.cameraVideoRef.nativeElement.srcObject=e,e)),(0,U.K)(e=>{throw this.notificationService.error("\n                    \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043a\u0430\u043c\u0435\u0440\u0435!\n                    \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043a\u0430\u043c\u0435\u0440\u0435\n                "),e}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Ne),t.Y36(He))},o.\u0275cmp=t.Xpm({type:o,selectors:[["qr-scanner"]],viewQuery:function(e,i){if(1&e&&(t.Gf(ze,7),t.Gf(je,7)),2&e){let n;t.iGM(n=t.CRH())&&(i.cameraVideoRef=n.first),t.iGM(n=t.CRH())&&(i.cameraCanvasRef=n.first)}},standalone:!0,features:[t.jDz],decls:23,vars:7,consts:[[1,"header"],["color","accent",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent",1,"align-center",3,"click"],["appearance","outline",1,"camera-video"],["autoplay","","playsinline","","width","100%","height","100%"],["cameraVideo",""],[2,"display","none"],["cameraCanvas",""],[1,"fields"],[1,"data-field"],["appearance","outline",1,"data"],["matInput","","maxlength","500",3,"ngModel","ngModelChange"],["align","end"],["mat-icon-button","","matTooltip","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430",1,"copy-btn",3,"cdkCopyToClipboard"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"mat-slide-toggle",1),t.NdJ("ngModelChange",function(a){return i.frontCamera=a}),t._uU(2,"\u0424\u0440\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u0430\u043c\u0435\u0440\u0430"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.onRefresh()}),t.TgZ(4,"mat-icon"),t._uU(5,"refresh"),t.qZA(),t._uU(6," \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c "),t.qZA()(),t.TgZ(7,"section",3),t._UZ(8,"video",4,5)(10,"canvas",6,7),t.qZA(),t.TgZ(12,"section",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"\u0414\u0430\u043d\u043d\u044b\u0435"),t.qZA(),t.TgZ(17,"textarea",11),t.NdJ("ngModelChange",function(a){return i.scanData=a}),t.qZA(),t.TgZ(18,"mat-hint",12),t._uU(19),t.qZA()(),t.TgZ(20,"button",13)(21,"mat-icon"),t._uU(22,"content_copy"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("ngModel",i.frontCamera),t.xp6(6),t.ekj("scanning",i.scanning),t.xp6(10),t.Q6J("ngModel",i.scanData),t.xp6(2),t.AsE("",i.scanData.length,"/",i.scanDataMaxLength,""),t.xp6(1),t.Q6J("cdkCopyToClipboard",i.scanData))},dependencies:[_.ez,m.u5,m.Fj,m.JJ,m.nD,m.On,W,K,he,A,x.ot,x.lW,O.Ps,O.Hw,w.c,R.KE,R.bx,R.hX,w.Nt,Se,Te],styles:['[_nghost-%COMP%]{align-self:center}.header[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center}.header[_ngcontent-%COMP%], .camera-video[_ngcontent-%COMP%]{margin-bottom:15px}.fields[_ngcontent-%COMP%]   .data-field[_ngcontent-%COMP%]{display:flex}.fields[_ngcontent-%COMP%]   .data-field[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{flex-grow:1}.fields[_ngcontent-%COMP%]   .data-field[_ngcontent-%COMP%]   .copy-btn[_ngcontent-%COMP%]{margin-left:5px}.camera-video[_ngcontent-%COMP%]{display:flex;background:black;position:relative}.camera-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover}@media only screen and (min-width: 375px){.camera-video[_ngcontent-%COMP%]{width:320px;height:240px}@keyframes scanning{to{transform:translateY(240px)}}}@media only screen and (min-width: 540px){.camera-video[_ngcontent-%COMP%]{width:480px;height:360px}@keyframes scanning{to{transform:translateY(360px)}}}@media only screen and (min-width: 768px){.camera-video[_ngcontent-%COMP%]{width:640px;height:480px}@keyframes scanning{to{transform:translateY(480px)}}}.camera-video.scanning[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;width:inherit;height:2px;background:linear-gradient(to bottom,#FFFAA0,transparent);animation:scanning 2s linear infinite alternate}']}),o})();const Qe=[{path:"",component:J}]}}]);